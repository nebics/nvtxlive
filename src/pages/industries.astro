---
import BaseLayout from "../layouts/BaseLayout.astro";
import PageHero from "../components/PageHero.astro";

const industries = [
  {
    id: 'medtech',
    title: 'Medical Technology',
    subtitle: 'Connected Devices & Diagnostics',
    icon: 'activity',
    description: 'We accelerate the development of next-generation connected devices. From Software as a Medical Device (SaMD) to IoMT ecosystems, we ensure your technology is secure, compliant, and user-centric.',
    capabilities: [
      { name: 'Software as a Medical Device', icon: 'server' },
      { name: 'AI/ML Diagnostics', icon: 'cpu' },
      { name: 'IoMT Connectivity', icon: 'wifi' },
      { name: 'Product Rationalization', icon: 'maximize' }
    ]
  },
  {
    id: 'pharma',
    title: 'Pharmaceutical',
    subtitle: 'Digital Drug Discovery',
    icon: 'circle',
    description: 'Optimizing the entire value chain. We leverage data analytics and digital twins to streamline drug discovery, enhance clinical trial efficiency, and ensure supply chain resilience.',
    capabilities: [
      { name: 'Drug Discovery Analytics', icon: 'search' },
      { name: 'Supply Chain Visibility', icon: 'map' },
      { name: 'Regulatory Management', icon: 'shield' },
      { name: 'Clinical Trial Optimization', icon: 'users' }
    ]
  },
  {
    id: 'healthcare',
    title: 'Healthcare Providers',
    subtitle: 'Patient-First Care',
    icon: 'heart',
    description: 'Empowering providers with actionable insights. Our solutions bridge the gap between data and care, improving patient outcomes through interoperability and automated workflows.',
    capabilities: [
      { name: 'Patient Engagement', icon: 'smile' },
      { name: 'Interoperability Solutions', icon: 'share-2' },
      { name: 'Revenue Cycle Management', icon: 'dollar-sign' },
      { name: 'Telehealth Infrastructure', icon: 'video' }
    ]
  },
  {
    id: 'biotech',
    title: 'Biotechnology',
    subtitle: 'Lab to Market Innovation',
    icon: 'dna',
    description: 'Scaling innovation at speed. We provide the digital infrastructure needed to move from the lab bench to commercial manufacturing with agility and precision.',
    capabilities: [
      { name: 'Lab Automation', icon: 'layers' },
      { name: 'Bioinformatics', icon: 'code' },
      { name: 'Process Analytics (PAT)', icon: 'bar-chart' },
      { name: 'Commercialization Strategy', icon: 'trending-up' }
    ]
  }
];
---

<BaseLayout title="Industries" currentPage="/industries">
  <PageHero 
    title="Industries We Serve" 
    description="Deep specialized expertise across the entire life sciences ecosystem."
    icon="industries"
  />

  <!-- Sticky Sub-nav for direct access -->
  <div class="sticky-subnav">
    <div class="container overflow-x-auto">
      <nav class="subnav-inner">
        {industries.map(ind => (
          <a href={`#${ind.id}`} class="subnav-link">
            <span>{ind.title}</span>
          </a>
        ))}
      </nav>
    </div>
  </div>

  <div class="sections-wrapper">
    {industries.map((ind, index) => (
      <section id={ind.id} class={`industry-section section ${index % 2 !== 0 ? 'section-alt' : ''}`}>
        <div class="container relative z-10">
          <div class={`grid-layout ${index % 2 !== 0 ? 'reverse' : ''}`}>
            
            <!-- Content Side -->
            <div class="content-side">
              <div class="section-badge">
                 <span class="badge-dot"></span>
                 {ind.subtitle}
              </div>
              
              <h2 class="section-heading">{ind.title}</h2>
              <p class="section-desc">{ind.description}</p>

              <div class="capabilities-list">
                {ind.capabilities.map(cap => (
                  <div class="cap-item">
                    <div class="cap-icon-box">
                       {/* Simplified icon logic for demo */}
                       <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                         <polyline points="20 6 9 17 4 12"></polyline>
                       </svg>
                    </div>
                    <span>{cap.name}</span>
                  </div>
                ))}
              </div>

              <div class="action-wrapper">
                 <a href="/contact-us" class="btn-text">
                    <span>Explore Solutions</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"></path><path d="M12 5l7 7-7 7"></path></svg>
                 </a>
              </div>
            </div>

            <!-- Visual Side -->
            <div class="visual-side">
              <div class="visual-abstract glass-panel">
                 <div class="icon-hero-wrapper">
                    {ind.icon === 'activity' && <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>}
                    {ind.icon === 'circle' && <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>}
                    {ind.icon === 'heart' && <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>}
                    {ind.icon === 'dna' && <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M2 15c6.667-6 13.333 0 20-6"/><path d="M9 22c1.798-1.998 2.518-3.995 2.807-5.993"/></svg>}
                 </div>
                 <div class="glow-effect" style={`background: radial-gradient(circle, var(--color-accent-${index % 2 === 0 ? 'primary' : 'secondary'}) 0%, transparent 70%);`}></div>
              </div>
            </div>

          </div>
        </div>
      </section>
    ))}
  </div>


</BaseLayout>

<style>
  /* Sticky Subnav */
  .sticky-subnav {
    position: sticky;
    top: 80px; /* Adjust based on header height */
    z-index: 40;
    backdrop-filter: blur(12px);
    background: rgba(255, 255, 255, 0.9);
    border-bottom: 1px solid var(--color-border);
    padding: 1rem 0;
  }

  .subnav-inner {
    display: flex;
    gap: 2rem;
    overflow-x: auto;
    scrollbar-width: none;
  }

  .subnav-link {
    color: var(--color-text-secondary);
    font-size: 0.9375rem;
    font-weight: 600;
    white-space: nowrap;
    transition: all 0.2s;
    padding: 0.5rem 1rem;
    border-radius: var(--radius-full);
  }

  .subnav-link:hover {
    color: var(--color-text-main);
    background: rgba(0, 0, 0, 0.05);
  }
  
  /* Sections */
  .industry-section {
    padding: 8rem 0; /* Increased padding */
    position: relative;
    border-bottom: 1px solid var(--color-border);
    background: #ffffff;
    overflow: hidden; /* Contain large icons */
  }
  
  /* Distinct Alternating Backgrounds */
  .section-alt {
    /* Soft Blue Gradient for alternate sections */
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); 
  }

  /* Grid Layout Centering */
  .grid-layout {
    display: grid;
    grid-template-columns: 1fr 0.8fr; /* Visual side slightly smaller */
    gap: 8rem; /* Large gap */
    align-items: center;
  }

  .grid-layout.reverse {
     direction: rtl; 
  }
  
  .grid-layout.reverse > * {
      direction: ltr; 
  }

  /* Visual Icons - Make them POP */
  .visual-abstract {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border-radius: var(--radius-xl);
    background: #fff;
    border: 1px solid var(--color-border);
    overflow: hidden;
    /* Soft but deep shadow */
    box-shadow: 0 20px 60px -10px rgba(14, 165, 233, 0.15); 
  }

  /* Large Hero Icon */
  .icon-hero-wrapper {
    color: var(--color-accent-primary);
    z-index: 2;
    transform: scale(1.5); /* Make icon significantly larger */
    filter: drop-shadow(0 10px 20px rgba(14, 165, 233, 0.2)); /* Add depth */
  }

  /* Enhanced Glow */
  .glow-effect {
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    left: -50%;
    opacity: 0.15; /* More visible glow */
    background: radial-gradient(circle, var(--color-accent-primary) 0%, transparent 70%);
    filter: blur(80px);
    z-index: 1;
    animation: rotate 20s linear infinite;
  }

  /* Capabilities List */
  .cap-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: var(--color-text-main);
    font-weight: 600;
  }

  .cap-icon-box {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    /* Vibrant Box */
    background: linear-gradient(135deg, rgba(14, 165, 233, 0.1), rgba(14, 165, 233, 0.2));
    color: var(--color-accent-primary);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Text & Badges */
  .section-badge {
    display: inline-block;
    padding-left: 1rem;
    border-left: 4px solid var(--color-accent-primary);
    font-size: 0.875rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-accent-primary);
    margin-bottom: 1rem;
    line-height: 1;
  }
  
  /* Remove the dot style as we are switching to border-left */
  .badge-dot {
    display: none; 
  }

  /* Action Button Wrapper to prevent overlap */
  .action-wrapper {
    margin-top: 2.5rem;
  }

  /* Text Button Styling */
  .btn-text {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.875rem;
    letter-spacing: 0.05em;
    color: var(--color-accent-primary);
    transition: all 0.2s ease;
  }
  
  .btn-text:hover {
    gap: 0.75rem;
    color: var(--color-accent-secondary);
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .industry-section { padding: 4rem 0; }
    .grid-layout {
      grid-template-columns: 1fr;
      gap: 4rem;
    }
    .grid-layout.reverse { direction: ltr; }
    .visual-side {
      order: -1; 
      max-width: 100%;
      margin: 0 auto;
    }
    .visual-abstract {
      max-width: 400px;
      margin: 0 auto;
    }
  }
</style>
