---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PageHero from "../../components/PageHero.astro";
---

<BaseLayout title="Open Positions" currentPage="/careers">
  <PageHero
    icon="careers"
    title="Open Positions"
    description="Join our team and help shape the future of life sciences."
  />

  <section class="section">
    <div class="container relative z-10">
      <div class="section-header-center">
        <h2>Current Opportunities</h2>
        <p>Explore roles where you can make a meaningful impact.</p>
      </div>

      <!-- Widget Container -->
      <div class="widget-wrapper">
        <div id="example-widget-container"></div>
      </div>
    </div>
  </section>

  <section class="section section-darker">
    <div class="container text-center relative z-10">
      <div class="cta-box">
        <h2>Don't see a perfect fit?</h2>
        <p>
          We're always looking for talent. Send us your resume and we'll keep
          you in mind for future roles.
        </p>
        <a href="mailto:careers@novintix.com" class="btn btn-primary"
          >Email Your Resume</a
        >
      </div>
    </div>
  </section>
</BaseLayout>

<script
  type="text/javascript"
  src="https://jobsapi.ceipal.com/APISource/widget.js"
  data-ceipal-api-key="ZmlYbU9kMTBTdXJVUDVwTFByWW1xQT09"
  data-ceipal-career-portal-id="Z3RkUkt2OXZJVld2MjFpOVRSTXoxZz09"></script>

<style>
  /* --- Scoped Styles --- */
  .section {
    padding: 6rem 0;
    position: relative;
  }
  .section-darker {
    background: rgba(0, 0, 0, 0.2);
  }

  .section-header-center {
    text-align: center;
    max-width: 600px;
    margin: 0 auto 3rem;
  }
  .section-header-center h2 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: #fff;
  }
  .section-header-center p {
    color: var(--color-text-secondary);
    font-size: 1.125rem;
  }

  /* Widget Styling Wrapper */
  .widget-wrapper {
    background: #fff; /* Widget likely needs light bg */
    border-radius: 1rem;
    padding: 2rem;
    min-height: 500px;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* CTA Box */
  .cta-box {
    background: var(--gradient-glass);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 4rem;
    border-radius: 2rem;
    max-width: 800px;
    margin: 0 auto;
  }
  .cta-box h2 {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }
  .cta-box p {
    color: var(--color-text-secondary);
    margin-bottom: 2rem;
    font-size: 1.25rem;
  }

  /* Force CEIPAL Widget Updates via Global CSS injection if possible, 
     but since it's an iframe/external script, we wrap it in a clean white box 
     to ensure it remains readable. */

  @media (max-width: 640px) {
    .cta-box {
      padding: 2rem;
    }
    .widget-wrapper {
      padding: 1rem;
    }
  }
</style>
